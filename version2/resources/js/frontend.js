function cryoutPreloader(){jQuery(".cryout-preloader").length&&jQuery(".cryout-preloader").fadeOut(700,function(){jQuery(this).remove()})}function cryoutBurgerMenu(){if(jQuery(".hamburger").length){$activeElements=jQuery(".hamburger, .site-header-top, #site-wrapper, .site-header-bottom-fixed, #mobile-menu");var t=!1;jQuery(".hamburger, .icon-cancel-hamburger").click(function(e){$activeElements.toggleClass("is-active"),jQuery(".site-header-bottom").hasClass("header-fixed")&&(jQuery(".site-header-bottom").removeClass("header-fixed"),t=!0),e.stopPropagation()}),jQuery(document).click(function(e){!jQuery(".site-header-top").is(e.target)&&0===jQuery(".site-header-top").has(e.target).length&&jQuery("#site-wrapper").hasClass("is-active")&&($activeElements.removeClass("is-active"),!0===t&&(jQuery(".site-header-bottom").addClass("header-fixed"),t=!1))})}}function cryoutLpBoxesRatios(){for(index=1;index<=cryout_theme_settings.lpboxratios.length;++index)jQuery(".lp-boxes-"+index+" .lp-box-image, .lp-boxes-static:not(.lp-boxes-static2).lp-boxes-"+index+" .lp-box-content").keepRatio(cryout_theme_settings.lpboxratios[index-1])}function cryoutMenuAnimate(){jQuery("#access > .menu ul li > a:not(:only-child)").attr("aria-haspopup","true"),jQuery("#access li").hover(function(){jQuery(this).addClass("menu-hover")},function(){jQuery(this).removeClass("menu-hover")}),jQuery("#access ul").find("a").on("focus",function(){jQuery(this).parents(".menu-item, .page_item").addClass("menu-hover")}),jQuery("#access ul").find("a").on("blur",function(){jQuery(this).parents(".menu-item, .page_item").removeClass("menu-hover")})}function cryoutSliderTitleBreakUp(){if(jQuery("body").hasClass("esotera-landing-page")&&jQuery(".lp-staticslider.animated-title").length){jQuery(window).on({scroll:function(e){var t=jQuery(".lp-staticslider.animated-title .staticslider-caption");isInViewport(t)?t.show():t.hide()}});for(var e=jQuery(".staticslider-caption-title > span"),t=e.html(),r=e.text().split(" ").join(""),o="<em class='caption-title-word'>",i=2<Math.floor(r.length/8)?Math.floor(r.length/8):2,n=3e3+200*i,a=[],s=0;s<t.length;s++)"<"==t[s]?(substring=t.substring(s),substring=substring.match(/(.*?)(<([^>]+)>)/gi),substring=substring[0],o+=substring,s+=substring.length-1):" "!=t[s]?o+="<span><span class='cry-single'>"+t[s]+"</span><span class='cry-double'>"+t[s]+"</span></span>":o+="<span>&nbsp;</span></em><em class='caption-title-word'>";o+="</em>",e.html(o),setTimeout(u,1e3),window.setInterval(u,n)}function u(){jQuery(".staticslider-caption-title > span .cry-single, .staticslider-caption-title > span .cry-double").removeClass("animated-letter").css("animation-delay",0);for(var e=0;e<i;e++)a[e]=Math.floor(Math.random()*r.length),jQuery(".staticslider-caption-title > span .cry-single").eq(a[e]).addClass("animated-letter").css("animation-delay",.2*e+"s"),jQuery(".staticslider-caption-title > span .cry-double").eq(a[e]).addClass("animated-letter").css("animation-delay",.2*e+"s")}}function cryoutBackToTop(){jQuery(window).scroll(function(){500<jQuery(this).scrollTop()?jQuery("#toTop").addClass("toTop-show"):jQuery("#toTop").removeClass("toTop-show"),100<jQuery(this).scrollTop()&&!jQuery(".site-header-top").hasClass("is-active")?jQuery(".esotera-fixed-menu .site-header-bottom").addClass("header-fixed"):jQuery(".esotera-fixed-menu .site-header-bottom").removeClass("header-fixed"),30<jQuery(this).scrollTop()?jQuery("#nav-fixed").addClass("nav-fixed-show"):jQuery("#nav-fixed").removeClass("nav-fixed-show")})}function cryoutSearchFormAnimation(){jQuery("#access .menu-search-animated > a").on("click focus",function(e){e.preventDefault(),jQuery(".menu-search-animated .searchform, .menu-main-search .icon-cancel").fadeIn(200,function(){jQuery(".menu-search-animated .s").focus()}),jQuery(".menu-search-animated .s").addClass("is-active"),e.stopPropagation()}),jQuery(".menu-search-animated .searchform .s").blur(function(){jQuery(".menu-search-animated .s").removeClass("is-active"),jQuery("#access .menu-search-animated .searchform, .menu-main-search .icon-cancel").fadeOut(200)}),jQuery("#toTop").click(function(e){return e.preventDefault(),jQuery("html, body").animate({scrollTop:0},500),!1})}function cryoutMobileMenuInit(){jQuery("#nav-toggle").click(function(e){e.stopPropagation(),jQuery("#site-wrapper").addClass("is-active"),jQuery("#mobile-menu").show(0).addClass("mobile-show"),jQuery("body").addClass("noscroll")}),jQuery("#nav-cancel").click(function(e){e.stopPropagation(),jQuery("#mobile-menu").removeClass("mobile-show").hide(500),jQuery("#site-wrapper").removeClass("is-active"),jQuery("body").removeClass("noscroll")}),jQuery("#mobile-menu .menu-main-search").removeClass("menu-search-animated"),jQuery("#mobile-menu > div").append(jQuery("#branding").clone()),jQuery("#mobile-menu #branding").attr("id","bmobile")}function cryoutInitNav(e){container=jQuery(e),container.find(".menu-item-has-children > a").after('<button class="dropdown-toggle" aria-expanded="false"></button>'),container.find(".page_item_has_children > a").after('<button class="dropdown-toggle" aria-expanded="false"></button>'),container.find(".current-menu-ancestor > button, .current-page-ancestor > button").addClass("toggle-on"),container.find(".current-menu-ancestor > .sub-menu, .current-page-ancestor > .sub-menu, .current-menu-ancestor .children, .current-page-ancestor .children").show(0).addClass("toggled-on"),container.find(".dropdown-toggle").click(function(e){var t=jQuery(this);e.preventDefault(),t.toggleClass("toggle-on"),t.hasClass("toggle-on")?(t.next(".children, .sub-menu").show(0).addClass("toggled-on"),t.prev("a").addClass("toggled-on")):(t.next(".children, .sub-menu").removeClass("toggled-on"),t.next(".children, .sub-menu").find(".children, .sub-menu").removeClass("toggled-on"),t.next(".children, .sub-menu").find("a").removeClass("toggled-on"),t.next(".children, .sub-menu").find(".dropdown-toggle").removeClass("toggled-on"),t.prev("a").removeClass("toggled-on"),setTimeout(function(){t.next(".children, .sub-menu").hide(0),t.next(".children, .sub-menu").find(".children, .sub-menu").hide(0)},600)),t.attr("aria-expanded","false"===t.attr("aria-expanded")?"true":"false")}),jQuery("body").on("click","#mobile-nav a",function(){jQuery("#nav-cancel i").trigger("click")})}function isInViewport(e){var t=jQuery(e).offset().top,r=t+jQuery(e).outerHeight(),o=jQuery(window).scrollTop(),i=o+jQuery(window).height()-150;return o<r&&t<i}function animateScroll(t,r){(t=jQuery(t)).each(function(e,t){jQuery(t).addClass(r)}),jQuery(window).on({scroll:function(e){t.each(function(e,t){isInViewport(t)&&jQuery(t).removeClass(r)})}})}function cryoutHeaderParallax(){cur_op=parseFloat(jQuery("#header-overlay").css("opacity")),jQuery(window).scroll(function(){var a=jQuery(window).scrollTop();jQuery("#masthead .header-image").each(function(e,t){if("none"==jQuery(t).css("display"))return!0;var r=jQuery(t).offset().top,o=jQuery(t).height();if(isInViewport(jQuery(t))){var i=a-r,n=Math.round(i/o*100);jQuery(t).css("opacity",1),jQuery(t).css("background-position","center "+(50+parseInt(n))+"%"),0<parseInt(n)&&jQuery("#header-overlay").css("opacity",cur_op-parseInt(n)*cur_op/100)}})})}function cryoutSocialTitles(){jQuery(".socials a").each(function(){jQuery(this).attr("title",jQuery(this).children().html()),jQuery(this).html("")})}function cryoutBodyClasses(){-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&jQuery("body").addClass("safari"),0<jQuery("#content-masonry").length&&jQuery("body").addClass("esotera-with-masonry")}function cryoutTabsWidget(){var e=jQuery(".cryout-wtabs-nav"),t=e.children("li");jQuery(".cryout-wtabs-container");e.each(function(){var e=jQuery(this);e.next().children(".cryout-wtab").stop(!0,!0).children("li").hide().parent().siblings(e.find("a").attr("href")).children("li").show(),e.children("li").first().addClass("active").stop(!0,!0).show()}),t.on("click",function(e){var t=jQuery(this);t.siblings().removeClass("active").end().addClass("active");t.parent().next().children(".cryout-wtab").stop(!0,!0).children("li").hide().parent().siblings(t.find("a").attr("href")).children("li").each(function(e){jQuery(this).fadeIn(200*(e+1))}),e.preventDefault()}).children(window.location.hash?'a[href="'+window.location.hash+'"]':"a:first").trigger("click")}function cryoutMasonry(){1==cryout_theme_settings.masonry&&1!=cryout_theme_settings.magazine&&void 0!==jQuery.fn.masonry&&jQuery("#content-masonry").masonry({itemSelector:"article",columnWidth:"article",percentPosition:!0,isRTL:cryout_theme_settings.rtl})}function cryoutPortfolioMasonry(){1==cryout_theme_settings.masonry&&void 0!==jQuery.fn.masonry&&jQuery("#lp-portfolio .jetpack-portfolio-shortcode").masonry({itemSelector:".portfolio-entry",columnWidth:".portfolio-entry:not(.hidey)",percentPosition:!0,isRTL:cryout_theme_settings.rtl})}function cryoutPortfolioFilter(){jQuery("body").on("click","#portfolio-filter > a",function(e){e.preventDefault(),jQuery("#portfolio-filter > a").removeClass("active"),jQuery(this).addClass("active");var r=jQuery(this).attr("data-slug");return jQuery("#portfolio-masonry .portfolio-entry").each(function(e,t){"all"==r||jQuery(t).hasClass("type-"+r)?jQuery(t).removeClass("hidey").fadeIn("fast"):jQuery(t).addClass("hidey").fadeOut("fast")}).promise().done(function(){cryoutPortfolioMasonry()}),!1})}function cryoutAutoScroll(i,n,a){i=window.document,n=window.history,a=window.location;var s=!(!n||!n.pushState),e={ANCHOR_REGEX:/^#[^ ]+$/,OFFSET_HEIGHT_PX:jQuery(".esotera-fixed-menu #site-header-main").height()+40,init:function(){this.scrollToCurrent(),jQuery(window).on("hashchange",jQuery.proxy(this,"scrollToCurrent")),jQuery("body").on("click",".main a, nav ul li a",jQuery.proxy(this,"delegateAnchors"))},getFixedOffset:function(){return this.OFFSET_HEIGHT_PX},scrollIfAnchor:function(e,t){var r,o;return!!this.ANCHOR_REGEX.test(e)&&((r=i.getElementById(e.slice(1)))&&!isInViewport(r)&&(o=jQuery(r).offset().top-this.getFixedOffset(),jQuery("html, body").animate({scrollTop:o}),s&&t&&n.pushState({},i.title,a.pathname+e)),!!r)},scrollToCurrent:function(e){this.scrollIfAnchor(window.location.hash)&&e&&e.preventDefault()},delegateAnchors:function(e){var t=e.target.closest("a");this.scrollIfAnchor(t.getAttribute("href"),!0)&&e.preventDefault()}};jQuery(i).ready(jQuery.proxy(e,"init"))}jQuery(document).ready(function(){jQuery(window).load(function(){cryoutPreloader()}),jQuery(".lp-boxes-animated.lp-boxes").mousedir(".lp-boxes-animated.lp-boxes:not(.lp-boxes-animated2) .lp-box"),cryoutLpBoxesRatios(),cryoutMobileMenuInit(),cryoutInitNav("#mobile-menu"),cryoutMenuAnimate(),cryoutBackToTop(),cryoutSearchFormAnimation(),cryoutSocialTitles(),cryoutBodyClasses(),cryoutTabsWidget(),cryoutPortfolioFilter(),cryoutHeaderParallax(),cryoutBurgerMenu(),cryoutSliderTitleBreakUp(),(2==cryout_theme_settings.fitvids&&1==cryout_theme_settings.is_mobile||1==cryout_theme_settings.fitvids)&&jQuery(".entry-content").fitVids(),1==cryout_theme_settings.autoscroll&&cryoutAutoScroll()}),jQuery(window).load(function(){jQuery(window).trigger("scroll"),cryoutMasonry(),cryoutPortfolioMasonry()}),jQuery.fn.keepRatio=function(t){var r=jQuery(this),e=r.width()/t;r.css("height",e+"px"),jQuery(window).resize(function(){var e=r.width()/t;r.css("height",e+"px")})},jQuery.fn.mousedir=function(e){if(jQuery("body").hasClass("esotera-landing-page")){jQuery(this);var t=jQuery(e),o={},i="direction-down";jQuery(document).on("mousemove",function(e){if(void 0!==o.x){var t=o.x-e.offsetX,r=o.y-e.offsetY;i=Math.abs(t)>Math.abs(r)&&0<t?"direction-left":Math.abs(t)>Math.abs(r)&&t<0?"direction-right":Math.abs(r)>Math.abs(t)&&0<r?"direction-up":(Math.abs(r),Math.abs(t),"direction-down")}o={x:e.offsetX,y:e.offsetY}}),t.on("mouseenter",function(){jQuery(this).removeClass("in-direction-left in-direction-right in-direction-up in-direction-down out-direction-left out-direction-right out-direction-up out-direction-down"),jQuery(this).addClass("in-"+i)}),t.on("mouseleave",function(){jQuery(this).removeClass("in-direction-left in-direction-right in-direction-up in-direction-down out-direction-left out-direction-right out-direction-up out-direction-down"),jQuery(this).addClass("out-"+i)})}},cryout_theme_settings.articleanimation&&animateScroll("#content-masonry > article","animated-onscroll"),animateScroll(".lp-block, .lp-box, .lp-text, .lp-port, .lp-tt","animated-onscroll-lp"),function(i){"use strict";i.fn.fitVids=function(e){var r={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(o.childNodes[1])}return e&&i.extend(r,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];r.customSelector&&e.push(r.customSelector);var o=".fitvidsignore, .wp-block-embed__wrapper";r.ignore&&(o=o+", "+r.ignore);var t=i(this).find(e.join(","));(t=(t=t.not("object object")).not(o)).each(function(){var e=i(this);if(!(0<e.parents(o).length||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var t=("object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height())/(isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10));if(!e.attr("name")){var r="fitvid"+i.fn.fitVids._count;e.attr("name",r),i.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*t+"%"),e.removeAttr("height").removeAttr("width")}})})},i.fn.fitVids._count=0}(window.jQuery||window.Zepto),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,r=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=r.length;0<=--t&&r.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o});